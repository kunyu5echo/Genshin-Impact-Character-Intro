<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è§’è‰²éœ€æ±‚åé¦ˆ - åŸç¥è§’è‰²ä»‹ç»</title>
    <link rel="stylesheet" href="CSS/style.css">
    <link rel="stylesheet" href="CSS/detail.css">
    <link rel="stylesheet" href="CSS/form.css">
</head>
<body>
    <!-- å¯¼èˆªæ  -->
    <nav class="pixel-nav">
        <div class="nav-container">
            <button class="nav-button" onclick="window.location.href='index.html'">
                â† è¿”å›é¦–é¡µ
            </button>
            <div class="nav-title">è§’è‰²éœ€æ±‚åé¦ˆ</div>
            <div class="nav-links">
                <button class="nav-button" onclick="window.location.href='mavuika.html'">ç›è–‡å¡</button>
                <button class="nav-button" onclick="window.location.href='furina.html'">èŠ™å®å¨œ</button>
                <button class="nav-button" onclick="window.location.href='nahida.html'">çº³è¥¿å¦²</button>
            </div>
        </div>
    </nav>

    <!-- ä¸»è¦å†…å®¹åŒº -->
    <main class="character-detail">
        <div class="form-container">
            <h1 class="form-title">è§’è‰²éœ€æ±‚åé¦ˆ</h1>
            <p class="form-subtitle">å‘Šè¯‰æˆ‘ä½ æƒ³äº†è§£å“ªä¸ªåŸç¥è§’è‰²ï¼Œæˆ‘ä¼šè€ƒè™‘åœ¨ç½‘ç«™ä¸­æ·»åŠ ï¼</p>
            
            <form id="feedbackForm">
                <!-- è§’è‰²åå­— -->
                <div class="form-group">
                    <label for="characterName" class="form-label">
                        æƒ³äº†è§£çš„è§’è‰²åå­— <span class="required">*</span>
                    </label>
                    <input 
                        type="text" 
                        id="characterName" 
                        name="characterName" 
                        class="form-input" 
                        placeholder="ä¾‹å¦‚ï¼šé›·ç”µå°†å†›ã€é’Ÿç¦»ã€ç”˜é›¨..."
                        required
                    >
                </div>

                <!-- å¸Œæœ›äº†è§£çš„ä¿¡æ¯ -->
                <div class="form-group">
                    <label for="description" class="form-label">
                        å¸Œæœ›äº†è§£å“ªäº›ä¿¡æ¯ <span class="required">*</span>
                    </label>
                    <textarea 
                        id="description" 
                        name="description" 
                        class="form-textarea" 
                        placeholder="è¯·æè¿°ä½ æƒ³äº†è§£è¿™ä¸ªè§’è‰²çš„å“ªäº›æ–¹é¢ï¼Œæ¯”å¦‚ï¼šæŠ€èƒ½ä»‹ç»ã€èƒŒæ™¯æ•…äº‹ã€é…é˜Ÿå»ºè®®ã€åœ£é—ç‰©æ¨èç­‰..."
                        required
                    ></textarea>
                </div>

                <!-- ç”¨æˆ·é‚®ç®± -->
                <div class="form-group">
                    <label for="email" class="form-label">
                        ä½ çš„é‚®ç®± <span class="required">*</span>
                    </label>
                    <input 
                        type="email" 
                        id="email" 
                        name="email" 
                        class="form-input" 
                        placeholder="your-email@example.com"
                        required
                    >
                </div>

                <!-- æäº¤æŒ‰é’® -->
                <button type="submit" class="form-button" id="submitBtn">
                    ğŸš€ æäº¤åé¦ˆ
                </button>
            </form>

            <!-- åŠ è½½æç¤º -->
            <div class="loading-text" id="loadingText">
                æ­£åœ¨æäº¤ä½ çš„åé¦ˆ...
            </div>

            <!-- æˆåŠŸæ¶ˆæ¯ -->
            <div class="success-message" id="successMessage">
                <h3>ğŸ‰ æäº¤æˆåŠŸï¼</h3>
                <p>æ„Ÿè°¢ä½ çš„åé¦ˆï¼æˆ‘ä¼šè®¤çœŸè€ƒè™‘æ·»åŠ è¿™ä¸ªè§’è‰²çš„ä»‹ç»ã€‚</p>
                <button onclick="window.location.href='index.html'" style="margin-top: 15px; padding: 10px 20px; background: #ffffff; color: #4caf50; border: 2px solid #ffffff; cursor: pointer;">
                    è¿”å›é¦–é¡µ
                </button>
            </div>

            <!-- é”™è¯¯æ¶ˆæ¯ -->
            <div class="error-message" id="errorMessage">
                <h3>âŒ æäº¤å¤±è´¥</h3>
                <p>æŠ±æ­‰ï¼Œæäº¤è¿‡ç¨‹ä¸­å‡ºç°äº†é”™è¯¯ã€‚è¯·ç¨åå†è¯•ã€‚</p>
                <button onclick="location.reload()" style="margin-top: 15px; padding: 10px 20px; background: #ffffff; color: #f44336; border: 2px solid #ffffff; cursor: pointer;">
                    é‡è¯•
                </button>
            </div>
        </div>
    </main>

    <script>
        // è¡¨å•æäº¤å¤„ç†
        document.getElementById('feedbackForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            // è·å–è¡¨å•æ•°æ®
            const formData = {
                characterName: document.getElementById('characterName').value,
                description: document.getElementById('description').value,
                email: document.getElementById('email').value
            };
            
            // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
            document.getElementById('submitBtn').disabled = true;
            document.getElementById('submitBtn').textContent = 'æäº¤ä¸­...';
            document.getElementById('loadingText').style.display = 'block';
            
            try {
                // å‘é€åˆ°Google Apps Script
                const response = await fetch('https://script.google.com/macros/s/AKfycbx7NIBxbWLqKgG0RfN1i2PdlaVRrbtfz_iZvE0jBmyACNBk0mVPVLRtN2eal4VQdgb9/exec', {
                    method: 'POST',
                    mode: 'no-cors',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(formData)
                });
                
                // æ˜¾ç¤ºæˆåŠŸæ¶ˆæ¯
                document.getElementById('loadingText').style.display = 'none';
                document.getElementById('feedbackForm').style.display = 'none';
                document.getElementById('successMessage').style.display = 'block';
                
            } catch (error) {
                console.error('æäº¤é”™è¯¯:', error);
                
                // æ˜¾ç¤ºé”™è¯¯æ¶ˆæ¯
                document.getElementById('loadingText').style.display = 'none';
                document.getElementById('submitBtn').disabled = false;
                document.getElementById('submitBtn').textContent = 'ğŸš€ æäº¤åé¦ˆ';
                document.getElementById('errorMessage').style.display = 'block';
            }
        });
    </script>
</body>
</html>